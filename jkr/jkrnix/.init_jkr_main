#!/bin/bash
#Use bash if available, to cause as few compatibility complications as possible
# ==================================================================== #
# Jelle Koster's Environment Settings, Scripts, Aliases, Libraries, ...
# based on the work of many others, found through extensive google-fu
# ==================================================================== #

#Check if this is a multi-user environment, to avoid making changes for other users.
#This check currently only caters for LSP DEV environments and generic environments, this should be extended for other environment types.
gEnvType="Generic"

if [ "$cwksbEnvironment" = "dev" ]
        then
                gEnvType="LSP" ;
fi

export jkr=~/jkr/
export jkrnix=~/jkr/jkrnix/
export jkrlog=~/jkr/logs/

#Update self if a new version is available.
sh ${jkrnix}/self-updater/checkForUpdates.sh

#execute dotfiles
for dot in $(find ${jkr}/dot/ -type f -name ".*" ! -name "*.disabled" )
	do
		if [ -f ${dot} ]
			then
				if [ -f ${dot}.disabled ]
						then 
							echo "The following dotfile is disabled: ${dot}"
							echo "	Remove ${dot.disabled} and log in again if you want to activate it."
							continue #skip this file, because it is disabled.
				fi
			. ${dot}
		fi
	done
	
case ${gEnvType} in "Generic")
	#Move to my 'home' directory
	cd ${jkr}
esac
